<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<ScrollPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.serinity.sleepcontrol.controller.ReveFormController"
            fitToWidth="true" fitToHeight="true"
            styleClass="form-scroll">

    <!-- Chargement du CSS ici, une seule fois -->
    <stylesheets>
        <String fx:value="/css/reve-form.css"/>
    </stylesheets>

    <VBox fx:id="mainContainer" spacing="20.0">
        <padding><Insets top="30" right="40" bottom="30" left="40"/></padding>

        <!-- En-tÃªte -->
        <HBox alignment="CENTER_LEFT" spacing="15.0" styleClass="form-header">
            <Label fx:id="headerIcon" text="ðŸ’­" styleClass="header-icon"/>
            <VBox spacing="5.0">
                <Label fx:id="titleLabel" text="Enregistrer un RÃªve" styleClass="header-title"/>
                <Label fx:id="subtitleLabel" text="Capturez les dÃ©tails de votre rÃªve" styleClass="header-subtitle"/>
            </VBox>
        </HBox>

        <!-- Section : Sommeil associÃ© -->
        <VBox spacing="15.0" styleClass="form-card">
            <HBox alignment="CENTER_LEFT" spacing="10.0">
                <Label text="ðŸ›Œ" styleClass="section-icon-blue"/>
                <Label text="Sommeil AssociÃ©" styleClass="section-title"/>
            </HBox>
            <Separator/>
            <HBox alignment="CENTER_LEFT" spacing="15.0">
                <Label text="ðŸ“…" styleClass="field-icon"/>
                <VBox spacing="5.0" HBox.hgrow="ALWAYS">
                    <Label text="Nuit concernÃ©e *" styleClass="field-label"/>
                    <ComboBox fx:id="sommeilCombo" prefWidth="350.0"
                              promptText="Choisir une nuit..."
                              styleClass="field-default"/>
                </VBox>
            </HBox>
        </VBox>

        <!-- Section : DÃ©tails du rÃªve -->
        <VBox spacing="15.0" styleClass="form-card">
            <HBox alignment="CENTER_LEFT" spacing="10.0">
                <Label text="âœ¨" styleClass="section-icon-purple"/>
                <Label text="DÃ©tails du RÃªve" styleClass="section-title"/>
            </HBox>
            <Separator/>

            <HBox alignment="CENTER_LEFT" spacing="15.0">
                <Label text="âœï¸" styleClass="field-icon"/>
                <VBox spacing="5.0" HBox.hgrow="ALWAYS">
                    <Label text="Titre *" styleClass="field-label"/>
                    <TextField fx:id="titreField"
                               promptText="Ex: Vol au-dessus des nuages..."
                               styleClass="field-default"/>
                </VBox>
            </HBox>

            <HBox alignment="TOP_LEFT" spacing="15.0">
                <Label text="ðŸ“–" styleClass="field-icon"/>
                <VBox spacing="5.0" HBox.hgrow="ALWAYS">
                    <Label text="Description *" styleClass="field-label"/>
                    <TextArea fx:id="descriptionArea" prefHeight="100.0"
                              promptText="DÃ©crivez votre rÃªve en dÃ©tail..."
                              styleClass="field-default" wrapText="true"/>
                    <Label fx:id="descCharCountLabel" text="0 / 2000 caractÃ¨res"
                           styleClass="char-count"/>
                </VBox>
            </HBox>

            <HBox alignment="CENTER_LEFT" spacing="15.0">
                <Label text="ðŸŽ­" styleClass="field-icon"/>
                <VBox spacing="5.0" HBox.hgrow="ALWAYS">
                    <Label text="Type de rÃªve *" styleClass="field-label"/>
                    <ComboBox fx:id="typeCombo" prefWidth="300.0"
                              promptText="SÃ©lectionner..." styleClass="field-default"/>
                </VBox>
            </HBox>
        </VBox>

        <!-- Section : Ressenti & IntensitÃ© -->
        <VBox spacing="15.0" styleClass="form-card">
            <HBox alignment="CENTER_LEFT" spacing="10.0">
                <Label text="ðŸ’š" styleClass="section-icon-green"/>
                <Label text="Ressenti &amp; IntensitÃ©" styleClass="section-title"/>
            </HBox>
            <Separator/>

            <HBox alignment="CENTER_LEFT" spacing="15.0">
                <Label text="ðŸ˜Š" styleClass="field-icon"/>
                <VBox spacing="5.0" HBox.hgrow="ALWAYS">
                    <Label text="Humeur ressentie *" styleClass="field-label"/>
                    <ComboBox fx:id="humeurCombo" prefWidth="300.0"
                              promptText="SÃ©lectionner..." styleClass="field-default"/>
                </VBox>
            </HBox>

            <HBox alignment="CENTER_LEFT" spacing="15.0">
                <Label text="âš¡" styleClass="field-icon"/>
                <VBox spacing="8.0" HBox.hgrow="ALWAYS">
                    <HBox alignment="CENTER_LEFT" spacing="12.0">
                        <Label text="IntensitÃ© du rÃªve" styleClass="field-label"/>
                        <!-- Classes multiples sÃ©parÃ©es par espace -->
                        <Label fx:id="intensiteLabel" text="5"
                               styleClass="intensite-base intensite-medium"/>
                    </HBox>
                    <HBox alignment="CENTER_LEFT" spacing="8.0">
                        <Label text="1" styleClass="section-optional"/>
                        <Slider fx:id="intensiteSlider" prefWidth="300.0" HBox.hgrow="ALWAYS"/>
                        <Label text="10" styleClass="section-optional"/>
                    </HBox>
                </VBox>
            </HBox>

            <HBox spacing="30.0" style="-fx-padding: 5 0 0 35;">
                <CheckBox fx:id="couleurCheck" text="ðŸŒˆ  RÃªve en couleur" styleClass="check-field"/>
                <CheckBox fx:id="recurrentCheck" text="ðŸ”  RÃªve rÃ©current" styleClass="check-field"/>
            </HBox>
        </VBox>

        <!-- Section : DÃ©tails supplÃ©mentaires -->
        <VBox spacing="15.0" styleClass="form-card">
            <HBox alignment="CENTER_LEFT" spacing="10.0">
                <Label text="ðŸ”" styleClass="section-icon-orange"/>
                <Label text="DÃ©tails SupplÃ©mentaires" styleClass="section-title"/>
                <Label text="(optionnel)" styleClass="section-optional"/>
            </HBox>
            <Separator/>

            <HBox alignment="CENTER_LEFT" spacing="15.0">
                <Label text="ðŸ’«" styleClass="field-icon"/>
                <VBox spacing="5.0" HBox.hgrow="ALWAYS">
                    <Label text="Ã‰motions" styleClass="field-label"/>
                    <TextField fx:id="emotionsField"
                               promptText="Ex: joie, peur, tristesse..."
                               styleClass="field-default"/>
                </VBox>
            </HBox>

            <HBox alignment="CENTER_LEFT" spacing="15.0">
                <Label text="ðŸ”®" styleClass="field-icon"/>
                <VBox spacing="5.0" HBox.hgrow="ALWAYS">
                    <Label text="Symboles" styleClass="field-label"/>
                    <TextField fx:id="symbolesField"
                               promptText="Ex: eau, feu, forÃªt..."
                               styleClass="field-default"/>
                </VBox>
            </HBox>
        </VBox>

        <!-- Boutons -->
        <HBox alignment="CENTER" spacing="20.0" style="-fx-padding: 20 0 0 0;">
            <Button fx:id="btnCancel" text="âœ– Annuler" onAction="#annuler"
                    prefHeight="45.0" prefWidth="160.0" styleClass="btn-cancel">
                <font><Font name="System Bold" size="15.0"/></font>
            </Button>
            <Button fx:id="btnSave" text="âœ“ Sauvegarder" onAction="#sauvegarder"
                    prefHeight="45.0" prefWidth="160.0" styleClass="btn-save">
                <font><Font name="System Bold" size="15.0"/></font>
            </Button>
        </HBox>

        <HBox alignment="CENTER">
            <Label text="* Champs obligatoires" styleClass="required-note"/>
        </HBox>
    </VBox>
</ScrollPane>
