<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox fx:id="mainContainer" spacing="15.0" style="-fx-background-color: #f5f7fa;" stylesheets="@../styles/styles.css" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.serinity.sleepcontrol.controller.ReveController">

    <padding>
        <Insets bottom="20" left="20" right="20" top="20" />
    </padding>

    <!-- En-tÃªte -->
    <HBox alignment="CENTER_LEFT" spacing="15.0">
        <Label styleClass="page-header" text="Gestion des RÃªves" />
        <Region HBox.hgrow="ALWAYS" />
        <Button fx:id="btnStats" onAction="#ouvrirStatistiques" styleClass="btn-secondary" text="ðŸ“Š Statistiques" />
        <Button fx:id="btnAjouter" onAction="#ajouterReve" styleClass="btn-primary" text="+ Ajouter un RÃªve" />
        <Button fx:id="btnRefresh" onAction="#rafraichir" styleClass="btn-secondary" text="âŸ³ RafraÃ®chir" />

        <Button onAction="#ouvrirAnalyseIA" styleClass="btn-secondary" text=" Analyse IA" />




    </HBox>

    <!-- Filtres -->
    <VBox spacing="12.0" styleClass="filter-container">
        <padding>
            <Insets bottom="15" left="15" right="15" top="15" />
        </padding>

        <HBox alignment="CENTER_LEFT" spacing="10.0">
            <Label styleClass="form-label" text="Recherche:" />
            <TextField fx:id="searchField" prefWidth="400.0" promptText="Rechercher par titre, description, Ã©motions..." styleClass="form-control" HBox.hgrow="ALWAYS" />
        </HBox>

        <HBox alignment="CENTER_LEFT" spacing="15.0">
            <VBox spacing="5.0">
                <Label styleClass="form-label" text="Type:" />
                <ComboBox fx:id="filterType" prefWidth="150.0" />
            </VBox>
            <VBox spacing="5.0">
                <Label styleClass="form-label" text="Trier par:" />
                <ComboBox fx:id="sortComboBox" prefWidth="180.0" />
            </VBox>
            <VBox spacing="5.0">
                <Label text=" " />
                <CheckBox fx:id="filterRecurrent" text="RÃªves rÃ©currents uniquement" />
            </VBox>
        </HBox>
    </VBox>

    <!-- Stats rÃ©sumÃ© (simple, 3 labels) -->
    <HBox alignment="CENTER_LEFT" spacing="20.0" styleClass="stats-container">
        <padding>
            <Insets bottom="10" left="15" right="15" top="10" />
        </padding>
        <Label fx:id="totalRevesLabel" styleClass="stat-badge-primary" text="Total: 0 rÃªves" />
        <Label fx:id="intensiteMoyLabel" styleClass="stat-badge-info" text="IntensitÃ© moyenne: --/10" />
        <HBox alignment="CENTER_LEFT" spacing="8.0">
            <ProgressBar fx:id="anxieteMoyBar" prefWidth="140.0" />
            <Label fx:id="anxieteMoyLabel" styleClass="stats-label" text="AnxiÃ©tÃ© moyenne: --/10" />
        </HBox>
    </HBox>

    <!-- Cartes -->
    <ScrollPane fitToWidth="true" styleClass="cards-scroll-pane" VBox.vgrow="ALWAYS">
        <FlowPane fx:id="cardsContainer" hgap="15.0" styleClass="cards-flow-pane" vgap="15.0">
            <padding>
                <Insets bottom="10" left="10" right="10" top="10" />
            </padding>
        </FlowPane>
    </ScrollPane>

</VBox>
