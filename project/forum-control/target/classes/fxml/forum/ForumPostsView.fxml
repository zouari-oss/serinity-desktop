<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.collections.FXCollections?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>


<BorderPane xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.serinity.forumcontrol.Controllers.ForumPostsController">
    <left>
        <VBox prefWidth="200" spacing="10" styleClass="forum-sidebar">

                  <Button maxWidth="Infinity" onAction="#onNewThread" style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 5; -fx-padding: 10;" text="âž• New Thread" />

                  <Separator />

                  <!-- Notifications Button with Badge -->
            <Button fx:id="notificationsButton" maxWidth="Infinity" onAction="#onNotifications" style="-fx-background-color: transparent; -fx-text-fill: #333; -fx-font-size: 14; -fx-padding: 10; -fx-background-radius: 5; -fx-cursor: hand;">
                <graphic>
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <StackPane>
                            <Label style="-fx-font-size: 18;" text="ðŸ””" />

                                  <!-- Notification Badge -->
                            <Label fx:id="notificationBadge" managed="false" style="-fx-background-color: #f44336;                                           -fx-text-fill: white;                                           -fx-font-size: 9;                                           -fx-font-weight: bold;                                           -fx-padding: 2 5;                                           -fx-background-radius: 10;                                           -fx-translate-x: 10;                                           -fx-translate-y: -8;                                           -fx-min-width: 16;                                           -fx-alignment: center;" text="0" visible="false" />
                        </StackPane>
                        <Label style="-fx-font-size: 14;" text="Notifications" />
                    </HBox>
                </graphic>
            </Button>

                  <Separator />

                  <!-- Navigation Buttons with fx:id -->
            <Button fx:id="homeButton" maxWidth="Infinity" onAction="#onHome" style="-fx-background-color: transparent; -fx-text-fill: #333; -fx-font-size: 14; -fx-padding: 10; -fx-background-radius: 5; -fx-cursor: hand;" styleClass="nav-btn" text="ðŸ  Home" />

                  <Button fx:id="myThreadsButton" maxWidth="Infinity" onAction="#onMyThreads" style="-fx-background-color: transparent; -fx-text-fill: #333; -fx-font-size: 14; -fx-padding: 10; -fx-background-radius: 5; -fx-cursor: hand;" styleClass="nav-btn" text="ðŸ“œ My Threads" />

                  <Button fx:id="followedButton" maxWidth="Infinity" onAction="#onFollowed" style="-fx-background-color: transparent; -fx-text-fill: #333; -fx-font-size: 14; -fx-padding: 10; -fx-background-radius: 5; -fx-cursor: hand;" styleClass="nav-btn" text="â­ Followed Threads" />

                  <Button fx:id="archivedButton" maxWidth="Infinity" onAction="#onArchived" style="-fx-background-color: transparent; -fx-text-fill: #333; -fx-font-size: 14; -fx-padding: 10; -fx-background-radius: 5; -fx-cursor: hand;" styleClass="nav-btn" text="ðŸ“¦ Archived Threads" />

                  <Button fx:id="categoriesButton" managed="false" maxWidth="Infinity" onAction="#onCategories" style="-fx-background-color: transparent; -fx-text-fill: #333; -fx-font-size: 14; -fx-padding: 10; -fx-background-radius: 5; -fx-cursor: hand;" styleClass="nav-btn" text="ðŸ·ï¸ Category List" visible="false" />

                  <Button fx:id="newCategoryButton" managed="false" maxWidth="Infinity" onAction="#onNewCategory" style="-fx-background-color: transparent; -fx-text-fill: #333; -fx-font-size: 14; -fx-padding: 10; -fx-background-radius: 5; -fx-cursor: hand;" styleClass="nav-btn" text="âž• New Category" visible="false" />

              </VBox>
    </left>
    <center>
        <VBox>
            <children>
                <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-padding: 15; -fx-background-color: white; -fx-border-color: #e0e0e0; -fx-border-width: 0 0 1 0;">

                          <Label style="-fx-font-size: 18;" text="ðŸ”" />

                          <TextField fx:id="searchField" promptText="Search threads by title..." style="-fx-font-size: 14; -fx-padding: 8;" HBox.hgrow="ALWAYS" />

                          <Button fx:id="clearSearchButton" managed="false" onAction="#onClearSearch" style="-fx-background-color: transparent; -fx-text-fill: #666; -fx-font-size: 16; -fx-cursor: hand;" text="âœ–" visible="false" />
                    <Button fx:id="toggleFilterButton" onAction="#onToggleFilters" style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15;" text="ðŸ”½ Filters" />
                </HBox>
                <HBox fx:id="filterPanel" managed="false" spacing="15" style="-fx-padding: 15; -fx-background-color: #f9f9f9; -fx-border-color: #e0e0e0; -fx-border-width: 0 0 1 0;" visible="false">

                          <VBox spacing="8" style="-fx-padding: 10; -fx-background-color: white; -fx-background-radius: 5; -fx-border-color: #e0e0e0; -fx-border-radius: 5;">
                        <Label style="-fx-font-weight: bold; -fx-font-size: 12; -fx-text-fill: #666;" text="Status" />
                        <CheckBox fx:id="statusOpenCheckBox" selected="false" text="ðŸŸ¢ Open" />
                        <CheckBox fx:id="statusLockedCheckBox" selected="false" text="ðŸ”’ Locked" />
                    </VBox>

                          <VBox spacing="8" style="-fx-padding: 10; -fx-background-color: white; -fx-background-radius: 5; -fx-border-color: #e0e0e0; -fx-border-radius: 5;">
                        <Label style="-fx-font-weight: bold; -fx-font-size: 12; -fx-text-fill: #666;" text="Type" />
                        <CheckBox fx:id="typeDiscussionCheckBox" selected="false" text="ðŸ’¬ Discussion" />
                        <CheckBox fx:id="typeQuestionCheckBox" selected="false" text="â“ Question" />
                        <CheckBox fx:id="typeAnnouncementCheckBox" selected="false" text="ðŸ“¢ Announcement" />
                    </VBox>
                    <VBox spacing="8" style="-fx-padding: 10; -fx-background-color: white; -fx-background-radius: 5; -fx-border-color: #e0e0e0; -fx-border-radius: 5;">
                        <Label style="-fx-font-weight: bold; -fx-font-size: 12; -fx-text-fill: #666;" text="Sort By" />
                        <ComboBox fx:id="sortByComboBox" onAction="#onSortByChanged" promptText="Choose sorting..." style="-fx-font-size: 12; -fx-pref-width: 180;">
                            <items>
                                <javafx.collections.FXCollections fx:factory="observableArrayList">
                                    <String fx:value="Newest First" />
                                    <String fx:value="Oldest First" />
                                    <String fx:value="Most Points" />
                                    <String fx:value="Least Points" />
                                    <String fx:value="Most Comments" />
                                    <String fx:value="Least Comments" />
                                    <String fx:value="Most Followers" />
                                    <String fx:value="Least Followers" />
                                </javafx.collections.FXCollections>
                            </items>
                        </ComboBox>
                    </VBox>

                          <VBox spacing="8" style="-fx-padding: 10; -fx-background-color: white; -fx-background-radius: 5; -fx-border-color: #e0e0e0; -fx-border-radius: 5;" HBox.hgrow="ALWAYS">
                        <Label style="-fx-font-weight: bold; -fx-font-size: 12; -fx-text-fill: #666;" text="Categories" />

                              <ScrollPane fitToWidth="true" prefHeight="150" style="-fx-background-color: transparent; -fx-border-color: transparent;">
                            <VBox fx:id="categoriesFilterBox" spacing="5">

                            </VBox>
                        </ScrollPane>
                    </VBox>

                          <!-- Clear Filters Button -->
                    <VBox alignment="BOTTOM_CENTER" spacing="5">
                        <Button onAction="#onResetFilters" style="-fx-background-color: #FF9800; -fx-text-fill: white; -fx-font-size: 11; -fx-padding: 5 10;" text="ðŸ”„ Reset Filters" />
                    </VBox>
                </HBox>

                      <ScrollPane fitToWidth="true" style="-fx-background-color:transparent;">

                          <content>
                        <VBox fx:id="cardsContainer" spacing="16" style="-fx-padding:24;">
                        </VBox>
                    </content>

                      </ScrollPane>
            </children>
            <StackPane fx:id="overlayPane"
                       minHeight="150"
                       prefHeight="150"
                       visible="false"
                       style="-fx-background-color: rgba(0,0,0,0.3);"
                       mouseTransparent="false">
            </StackPane>
        </VBox>
    </center>

      </BorderPane>
