<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox fx:id="cardContainer"
      xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.serinity.forumcontrol.Controllers.ReplyCardController"
      spacing="8"
      style="-fx-background-color: white;
             -fx-padding: 12;
             -fx-border-color: #e0e0e0;
             -fx-border-width: 0 0 0 3;
             -fx-background-radius: 5;">

    <!-- Header with Author, Date, and Menu -->
    <HBox alignment="CENTER_LEFT" spacing="10">
        <Label fx:id="authorLabel"
               style="-fx-font-weight: bold; -fx-text-fill: #1976D2;"/>

        <Label fx:id="dateLabel"
               style="-fx-text-fill: gray; -fx-font-size: 11;"
               HBox.hgrow="ALWAYS"/>

        <!-- Three-dot menu (only visible for owner/admin) -->
        <MenuButton fx:id="menuButton"
                    text="⋮"
                    style="-fx-background-color: transparent;
                           -fx-font-size: 16;
                           -fx-font-weight: bold;
                           -fx-text-fill: #666;"
                    visible="false"
                    managed="false">
            <!-- Menu items added dynamically in controller -->
        </MenuButton>
    </HBox>

    <!-- Reply Content (visible in normal mode) -->
    <Label fx:id="contentLabel"
           wrapText="true"
           style="-fx-font-size: 14;"/>

    <!-- Edit controls will be added here dynamically when in edit mode -->

    <!-- Reply Button -->
    <HBox spacing="5" alignment="CENTER_LEFT">
        <Button text="↩️ Reply"
                onAction="#onReplyClick"
                style="-fx-background-color: transparent;
                       -fx-text-fill: #1976D2;
                       -fx-cursor: hand;
                       -fx-font-size: 12;
                       -fx-border-color: transparent;
                       -fx-padding: 5;"/>
    </HBox>

    <!-- Children/Nested Replies Container -->
    <VBox fx:id="childrenBox"
          spacing="8"
          style="-fx-padding: 0 0 0 20;">
        <!-- Nested replies will be added here -->
    </VBox>

</VBox>
