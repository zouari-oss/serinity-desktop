<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/17.0.12"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.serinity.forumcontrol.Controllers.ForumBackofficeController"
      spacing="20"
      style="-fx-background-color: #f5f5f5; -fx-padding: 20;">

    <!-- Header Section -->
    <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-padding: 0 0 10 0;">

        <!-- Title -->
        <Label text="ðŸ“‚ Category Management"
               style="-fx-font-size: 24;
                      -fx-font-weight: bold;
                      -fx-text-fill: #333;"/>

        <Region HBox.hgrow="ALWAYS"/>

        <!-- Statistics Button -->
        <Button fx:id="statisticsButton"
                text="ðŸ“Š Statistics"
                onAction="#onStatistics"
                style="-fx-background-color: #9C27B0;
                       -fx-text-fill: white;
                       -fx-font-size: 14;
                       -fx-font-weight: bold;
                       -fx-padding: 12 24;
                       -fx-background-radius: 8;
                       -fx-cursor: hand;
                       -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 4, 0, 0, 2);"/>

        <!-- Add Category Button -->
        <Button fx:id="addCategoryButton"
                text="âž• Add Category"
                onAction="#onAddCategory"
                style="-fx-background-color: #4CAF50;
                       -fx-text-fill: white;
                       -fx-font-size: 14;
                       -fx-font-weight: bold;
                       -fx-padding: 12 24;
                       -fx-background-radius: 8;
                       -fx-cursor: hand;
                       -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 4, 0, 0, 2);"/>
    </HBox>

    <!-- Divider -->
    <Separator style="-fx-background-color: #ddd;"/>

    <!-- Categories Info Bar -->
    <HBox alignment="CENTER_LEFT" spacing="30" style="-fx-padding: 10; -fx-background-color: white; -fx-background-radius: 8; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 3, 0, 0, 1);">
        <VBox spacing="5">
            <Label text="Total Categories" style="-fx-font-size: 12; -fx-text-fill: #666;"/>
            <Label fx:id="totalCategoriesLabel" text="0" style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: #2196F3;"/>
        </VBox>

        <Separator orientation="VERTICAL" style="-fx-background-color: #ddd;"/>

        <VBox spacing="5">
            <Label text="Parent Categories" style="-fx-font-size: 12; -fx-text-fill: #666;"/>
            <Label fx:id="parentCategoriesLabel" text="0" style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: #4CAF50;"/>
        </VBox>

        <Separator orientation="VERTICAL" style="-fx-background-color: #ddd;"/>

        <VBox spacing="5">
            <Label text="Subcategories" style="-fx-font-size: 12; -fx-text-fill: #666;"/>
            <Label fx:id="subCategoriesLabel" text="0" style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: #FF9800;"/>
        </VBox>

        <Region HBox.hgrow="ALWAYS"/>

        <Button text="ðŸ”„ Refresh"
                onAction="#onRefresh"
                style="-fx-background-color: #2196F3;
                       -fx-text-fill: white;
                       -fx-font-size: 12;
                       -fx-padding: 8 16;
                       -fx-background-radius: 6;
                       -fx-cursor: hand;"/>
    </HBox>

    <!-- Categories Grid in ScrollPane -->
    <ScrollPane fx:id="scrollPane"
                fitToWidth="true"
                style="-fx-background-color: transparent; -fx-background: transparent;"
                VBox.vgrow="ALWAYS">
        <VBox spacing="15" style="-fx-padding: 10;">
            <!-- Categories will be loaded here in a 2-column grid -->
            <GridPane fx:id="categoriesGrid"
                      hgap="20"
                      vgap="20"
                      style="-fx-background-color: transparent;">
                <!-- Dynamic category cards will be added here -->
            </GridPane>

            <!-- Empty State (shown when no categories) -->
            <VBox fx:id="emptyStateBox"
                  alignment="CENTER"
                  spacing="15"
                  visible="false"
                  managed="false"
                  style="-fx-padding: 60; -fx-background-color: white; -fx-background-radius: 12;">
                <Label text="ðŸ“‚" style="-fx-font-size: 48;"/>
                <Label text="No Categories Yet"
                       style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: #666;"/>
                <Label text="Create your first category to get started!"
                       style="-fx-font-size: 14; -fx-text-fill: #999;"/>
                <Button text="âž• Create First Category"
                        onAction="#onAddCategory"
                        style="-fx-background-color: #4CAF50;
                               -fx-text-fill: white;
                               -fx-font-size: 14;
                               -fx-font-weight: bold;
                               -fx-padding: 12 30;
                               -fx-background-radius: 8;
                               -fx-cursor: hand;"/>
            </VBox>
        </VBox>
    </ScrollPane>

</VBox>
