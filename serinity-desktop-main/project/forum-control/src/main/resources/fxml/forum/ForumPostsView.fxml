<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<?import java.lang.String?>
<BorderPane xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.serinity.forumcontrol.Controllers.ForumPostsController">
    <left>
        <VBox prefWidth="200" spacing="10" styleClass="forum-sidebar">

            <Button onAction="#onNewThread"
                    text="âž• New Thread"
                    style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 5; -fx-padding: 10;"
                    maxWidth="Infinity"/>

            <Separator />

            <!-- Navigation Buttons with fx:id -->
            <Button fx:id="homeButton"
                    onAction="#onHome"
                    text="ðŸ  Home"
                    styleClass="nav-btn"
                    maxWidth="Infinity"
                    style="-fx-background-color: transparent; -fx-text-fill: #333; -fx-font-size: 14; -fx-padding: 10; -fx-background-radius: 5; -fx-cursor: hand;"/>

            <Button fx:id="myThreadsButton"
                    onAction="#onMyThreads"
                    text="ðŸ“œ My Threads"
                    styleClass="nav-btn"
                    maxWidth="Infinity"
                    style="-fx-background-color: transparent; -fx-text-fill: #333; -fx-font-size: 14; -fx-padding: 10; -fx-background-radius: 5; -fx-cursor: hand;"/>

            <Button fx:id="followedButton"
                    onAction="#onFollowed"
                    text="â­ Followed Threads"
                    styleClass="nav-btn"
                    maxWidth="Infinity"
                    style="-fx-background-color: transparent; -fx-text-fill: #333; -fx-font-size: 14; -fx-padding: 10; -fx-background-radius: 5; -fx-cursor: hand;"/>

            <Button fx:id="archivedButton"
                    onAction="#onArchived"
                    text="ðŸ“¦ Archived Threads"
                    styleClass="nav-btn"
                    maxWidth="Infinity"
                    style="-fx-background-color: transparent; -fx-text-fill: #333; -fx-font-size: 14; -fx-padding: 10; -fx-background-radius: 5; -fx-cursor: hand;"/>

            <Button fx:id="categoriesButton"
                    managed="false"
                    onAction="#onCategories"
                    text="ðŸ·ï¸ Category List"
                    visible="false"
                    styleClass="nav-btn"
                    maxWidth="Infinity"
                    style="-fx-background-color: transparent; -fx-text-fill: #333; -fx-font-size: 14; -fx-padding: 10; -fx-background-radius: 5; -fx-cursor: hand;"/>

            <Button fx:id="newCategoryButton"
                    managed="false"
                    onAction="#onNewCategory"
                    text="âž• New Category"
                    visible="false"
                    styleClass="nav-btn"
                    maxWidth="Infinity"
                    style="-fx-background-color: transparent; -fx-text-fill: #333; -fx-font-size: 14; -fx-padding: 10; -fx-background-radius: 5; -fx-cursor: hand;"/>

        </VBox>
    </left>
    <center>
      <VBox>
         <children>
                  <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-padding: 15; -fx-background-color: white; -fx-border-color: #e0e0e0; -fx-border-width: 0 0 1 0;">
      
                      <Label style="-fx-font-size: 18;" text="ðŸ”" />
      
                      <TextField fx:id="searchField" promptText="Search threads by title..." style="-fx-font-size: 14; -fx-padding: 8;" HBox.hgrow="ALWAYS" />
      
                      <Button fx:id="clearSearchButton" managed="false" onAction="#onClearSearch" style="-fx-background-color: transparent; -fx-text-fill: #666; -fx-font-size: 16; -fx-cursor: hand;" text="âœ–" visible="false" />
                      <Button fx:id="toggleFilterButton"
                              text="ðŸ”½ Filters"
                              onAction="#onToggleFilters"
                              style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15;"/>
                  </HBox>
             <HBox fx:id="filterPanel"
                   spacing="15"
                   visible="false"
                   managed="false"
                   style="-fx-padding: 15; -fx-background-color: #f9f9f9; -fx-border-color: #e0e0e0; -fx-border-width: 0 0 1 0;">

                 <VBox spacing="8" style="-fx-padding: 10; -fx-background-color: white; -fx-background-radius: 5; -fx-border-color: #e0e0e0; -fx-border-radius: 5;">
                     <Label text="Status" style="-fx-font-weight: bold; -fx-font-size: 12; -fx-text-fill: #666;"/>
                     <CheckBox fx:id="statusOpenCheckBox" text="ðŸŸ¢ Open" selected="false"/>
                     <CheckBox fx:id="statusLockedCheckBox" text="ðŸ”’ Locked" selected="false"/>
                 </VBox>

                 <VBox spacing="8" style="-fx-padding: 10; -fx-background-color: white; -fx-background-radius: 5; -fx-border-color: #e0e0e0; -fx-border-radius: 5;">
                     <Label text="Type" style="-fx-font-weight: bold; -fx-font-size: 12; -fx-text-fill: #666;"/>
                     <CheckBox fx:id="typeDiscussionCheckBox" text="ðŸ’¬ Discussion" selected="false"/>
                     <CheckBox fx:id="typeQuestionCheckBox" text="â“ Question" selected="false"/>
                     <CheckBox fx:id="typeAnnouncementCheckBox" text="ðŸ“¢ Announcement" selected="false"/>
                 </VBox>
                 <VBox spacing="8" style="-fx-padding: 10; -fx-background-color: white; -fx-background-radius: 5; -fx-border-color: #e0e0e0; -fx-border-radius: 5;">
                     <Label text="Sort By" style="-fx-font-weight: bold; -fx-font-size: 12; -fx-text-fill: #666;"/>
                     <ComboBox fx:id="sortByComboBox"
                               promptText="Choose sorting..."
                               style="-fx-font-size: 12; -fx-pref-width: 180;"
                               onAction="#onSortByChanged">
                         <items>
                             <javafx.collections.FXCollections fx:factory="observableArrayList">
                                 <String fx:value="Newest First"/>
                                 <String fx:value="Oldest First"/>
                                 <String fx:value="Most Points"/>
                                 <String fx:value="Least Points"/>
                                 <String fx:value="Most Comments"/>
                                 <String fx:value="Least Comments"/>
                                 <String fx:value="Most Followers"/>
                                 <String fx:value="Least Followers"/>
                             </javafx.collections.FXCollections>
                         </items>
                     </ComboBox>
                 </VBox>

                 <VBox spacing="8"
                       style="-fx-padding: 10; -fx-background-color: white; -fx-background-radius: 5; -fx-border-color: #e0e0e0; -fx-border-radius: 5;"
                       HBox.hgrow="ALWAYS">
                     <Label text="Categories" style="-fx-font-weight: bold; -fx-font-size: 12; -fx-text-fill: #666;"/>

                     <ScrollPane fitToWidth="true"
                                 prefHeight="150"
                                 style="-fx-background-color: transparent; -fx-border-color: transparent;">
                         <VBox fx:id="categoriesFilterBox" spacing="5">

                         </VBox>
                     </ScrollPane>
                 </VBox>

                 <!-- Clear Filters Button -->
                 <VBox alignment="BOTTOM_CENTER" spacing="5">
                     <Button text="ðŸ”„ Reset Filters"
                             onAction="#onResetFilters"
                             style="-fx-background-color: #FF9800; -fx-text-fill: white; -fx-font-size: 11; -fx-padding: 5 10;"/>
                 </VBox>
             </HBox>

             <ScrollPane fitToWidth="true" style="-fx-background-color:transparent;">
            
                <content>
                    <VBox fx:id="cardsContainer" spacing="16" style="-fx-padding:24;">
        </VBox>
                </content>
            
            </ScrollPane>
         </children>
      </VBox>
   </center>

</BorderPane>
